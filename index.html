<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taha Atlagh | Quant Research</title>
    <style>
        /* --- SYSTEM KERNEL & CRT EFFECT --- */
        :root {
            --bg-color: #050505;
            --glass-bg: rgba(20, 20, 25, 0.9);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #e0e0e0;
            --text-muted: #808080;
            --accent: #3b82f6;
            --green: #10b981;
            --code-bg: #1e1e1e;
            --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
            --font-ui: -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            margin: 0; background-color: var(--bg-color); color: var(--text-main);
            font-family: var(--font-ui); overflow: hidden; height: 100vh; user-select: none;
        }

        /* CRT Scanline Overlay */
        body::after {
            content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            z-index: 9999; background-size: 100% 2px, 3px 100%; pointer-events: none;
        }

        canvas#bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; opacity: 0.6; }

        /* --- DESKTOP ICONS --- */
        .desktop-icons { position: absolute; top: 30px; left: 30px; display: flex; flex-direction: column; gap: 25px; z-index: 5; }
        .icon {
            width: 85px; display: flex; flex-direction: column; align-items: center; cursor: pointer;
            padding: 10px; border-radius: 8px; transition: 0.2s; text-align: center; border: 1px solid transparent;
        }
        .icon:hover { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.2); backdrop-filter: blur(5px); }
        .icon-img { font-size: 2.2rem; margin-bottom: 8px; filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.5)); }
        .icon-label { font-size: 0.8rem; color: #fff; text-shadow: 0 2px 4px #000; font-weight: 500; }

        /* --- WINDOW MANAGER --- */
        .window {
            position: absolute; background: var(--glass-bg);
            backdrop-filter: blur(20px); border: 1px solid var(--glass-border);
            border-radius: 10px; box-shadow: 0 50px 100px rgba(0,0,0,0.8);
            display: flex; flex-direction: column; overflow: hidden;
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.3s, width 0.3s, height 0.3s;
            opacity: 0; transform: scale(0.9); pointer-events: none;
        }
        .window.open { opacity: 1; transform: scale(1); pointer-events: all; }
        .window.minimized {
            transform: scale(0) translate(0, 500px); opacity: 0; /* Genie effect simulation */
        }
        .window.active { z-index: 100 !important; border-color: var(--accent); box-shadow: 0 0 0 1px var(--accent), 0 50px 100px rgba(0,0,0,0.9); }

        .window-header {
            background: rgba(255,255,255,0.03); padding: 12px; display: flex; align-items: center;
            justify-content: space-between; cursor: grab; border-bottom: 1px solid var(--glass-border);
        }
        .win-controls { display: flex; gap: 8px; }
        .win-btn { width: 12px; height: 12px; border-radius: 50%; cursor: pointer; }
        .close { background: #ff5f56; } .min { background: #ffbd2e; } .max { background: #27c93f; }
        .win-title { font-size: 0.85rem; color: #ccc; font-family: var(--font-ui); }

        .window-content { flex: 1; overflow-y: auto; color: var(--text-main); font-size: 0.95rem; line-height: 1.6; }

        /* --- CONTENT STYLES --- */
        .paper-view { padding: 40px; background: #fff; color: #111; font-family: 'Times New Roman', serif; min-height: 100%; }
        .paper-title { font-size: 1.8rem; font-weight: bold; text-align: center; margin-bottom: 10px; }
        .paper-meta { text-align: center; color: #555; font-style: italic; margin-bottom: 30px; font-size: 0.9rem; }
        .paper-h1 { font-size: 1.2rem; font-weight: bold; text-transform: uppercase; border-bottom: 2px solid #111; padding-bottom: 5px; margin: 30px 0 15px 0; }
        .paper-p { margin-bottom: 15px; text-align: justify; }
        .math-block { background: #f0f0f0; padding: 10px; text-align: center; font-family: var(--font-mono); font-size: 0.9rem; margin: 20px 0; border-radius: 4px; }
        
        .code-view { padding: 0; background: var(--code-bg); font-family: var(--font-mono); height: 100%; }
        .code-header { background: #252526; padding: 10px 20px; font-size: 0.8rem; color: #ccc; border-bottom: 1px solid #333; display: flex; gap: 20px; }
        .code-tab { cursor: pointer; padding-bottom: 2px; }
        .code-tab.active { color: var(--accent); border-bottom: 2px solid var(--accent); }
        .code-content { padding: 20px; color: #d4d4d4; white-space: pre; font-size: 0.85rem; overflow: auto; }
        .k { color: #569cd6; } /* Keyword */
        .f { color: #dcdcaa; } /* Function */
        .s { color: #ce9178; } /* String */
        .c { color: #6a9955; } /* Comment */
        .n { color: #b5cea8; } /* Number */

        /* --- TERMINAL --- */
        .term-body { padding: 15px; font-family: var(--font-mono); font-size: 0.9rem; }
        .prompt { color: var(--green); margin-right: 10px; }
        .cmd-in { background: transparent; border: none; color: inherit; font: inherit; outline: none; width: 80%; }

        /* --- TASKBAR --- */
        #taskbar {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 40px;
            background: rgba(15, 15, 20, 0.8); backdrop-filter: blur(10px);
            border-top: 1px solid var(--glass-border); display: flex; align-items: center;
            padding: 0 15px; z-index: 1000; justify-content: space-between;
        }
        .start-btn { 
            background: rgba(255,255,255,0.1); padding: 5px 15px; border-radius: 4px; 
            font-weight: bold; color: #fff; cursor: pointer; transition: 0.2s;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .start-btn:hover { background: rgba(255,255,255,0.2); box-shadow: 0 0 15px var(--accent); }
        
        .dock { display: flex; gap: 5px; margin-left: 20px; }
        .dock-item {
            width: 30px; height: 30px; border-radius: 4px; background: rgba(255,255,255,0.05);
            display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s;
        }
        .dock-item:hover { background: rgba(255,255,255,0.15); transform: translateY(-2px); }
        .dock-item.active { border-bottom: 2px solid var(--accent); }

        .sys-tray { font-family: var(--font-mono); font-size: 0.8rem; color: #aaa; display: flex; gap: 20px; }
        .blink { animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div class="desktop-icons">
        <div class="icon" onclick="openWindow('thesis')">
            <div class="icon-img">üéì</div>
            <div class="icon-label">Thesis.pdf</div>
        </div>
        <div class="icon" onclick="openWindow('hull')">
            <div class="icon-img">üìà</div>
            <div class="icon-label">Hull_Tactical</div>
        </div>
        <div class="icon" onclick="openWindow('cv')">
            <div class="icon-img">üìÑ</div>
            <div class="icon-label">CV_Taha.pdf</div>
        </div>
        <div class="icon" onclick="openWindow('terminal')">
            <div class="icon-img">üöÄ</div>
            <div class="icon-label">Terminal</div>
        </div>
        <div class="icon" onclick="window.open('https://github.com/Taha1703')">
            <div class="icon-img">üêô</div>
            <div class="icon-label">GitHub</div>
        </div>
    </div>

    <div id="win-thesis" class="window" style="width: 800px; height: 600px; top: 10%; left: 25%;">
        <div class="window-header" onmousedown="dragStart(event, 'win-thesis')">
            <div class="win-controls">
                <div class="win-btn close" onclick="closeWindow('win-thesis')"></div>
                <div class="win-btn min" onclick="minimizeWindow('win-thesis')"></div>
                <div class="win-btn max"></div>
            </div>
            <div class="win-title">Bachelor_Thesis_RLRK.pdf - Preview</div>
            <div></div>
        </div>
        <div class="window-content paper-view">
            <div class="paper-title">Randomized Low-Rank Runge-Kutta Methods</div>
            <div class="paper-meta">Taha Atlagh ‚Ä¢ RWTH Aachen (IGPM) ‚Ä¢ Grade: 1.0 (Excellent)</div>
            
            <div class="paper-h1">1. Abstract</div>
            <div class="paper-p">
                [cite_start]This thesis addresses the computational bottleneck of solving high-dimensional matrix differential equations[cite: 141]. Standard integrators scale with $O(n^2)$ memory, which is prohibitive for large systems. [cite_start]We analyze and implement <strong>Randomized Low-Rank Runge-Kutta (RLRK)</strong> methods that constrain the solution to a manifold $\mathcal{M}_r$ using randomized projections[cite: 153].
            </div>

            <div class="paper-h1">2. Methodology</div>
            <div class="paper-p">
                [cite_start]We employ the <strong>Generalized Nystr√∂m Method</strong> for rank reduction[cite: 155]. A key contribution is the comparison of sketching techniques:
            </div>
            <div class="math-block">
                Approx(A) = Q ( \Psi^T Q )^\dagger \Psi^T A
            </div>
            <div class="paper-p">
                [cite_start]We demonstrate that <strong>Subsampled Randomized Fourier Transforms (SRFT)</strong> reduce sketching complexity to $O(mn \log n)$[cite: 160], significantly outperforming dense Gaussian matrices for $n > 8192$.
            </div>

            <div class="paper-h1">3. Key Results</div>
            <div class="paper-p">
                <ul>
                    [cite_start]<li><strong>Robustness:</strong> RLRK maintains accuracy even when the vector field is not tangential to the manifold, a scenario where Projected Runge-Kutta (PRK) fails (e.g., Lyapunov equation with $\alpha=1$)[cite: 1238].</li>
                    [cite_start]<li><strong>Stiffness:</strong> For stiff problems like the Allen-Cahn equation, fixed-step RLRK4 proved more stable than adaptive DOPRI45[cite: 1921].</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="win-hull" class="window" style="width: 900px; height: 650px; top: 15%; left: 15%;">
        <div class="window-header" onmousedown="dragStart(event, 'win-hull')">
            <div class="win-controls">
                <div class="win-btn close" onclick="closeWindow('win-hull')"></div>
                <div class="win-btn min" onclick="minimizeWindow('win-hull')"></div>
                <div class="win-btn max"></div>
            </div>
            <div class="win-title">Hull_Tactical_Strategy - VS Code</div>
            <div></div>
        </div>
        <div class="window-content code-view">
            <div class="code-header">
                <div class="code-tab active">strategy.py</div>
                <div class="code-tab">backtest_results.log</div>
                <div class="code-tab">README.md</div>
            </div>
            <div class="code-content">
<span class="c"># Hull Tactical Market Prediction Strategy</span>
<span class="c"># Author: Taha Atlagh | Model: LightGBM Ensemble</span>

<span class="k">import</span> numpy <span class="k">as</span> np
<span class="k">import</span> lightgbm <span class="k">as</span> lgb

<span class="k">def</span> <span class="f">utility_free_control</span>(predicted_mu, current_sigma, history):
    <span class="s">"""
    Converts raw predictions into portfolio weights using a robust Z-Score.
    Avoids overfitting to noise by using median/IQR instead of mean/std.
    """</span>
    epsilon = <span class="n">1e-6</span>
    raw_opt = predicted_mu / (current_sigma**2 + epsilon)
    
    <span class="c"># Robust Normalization</span>
    w_median = np.median(history[-252:]) <span class="c"># Rolling 1-year window</span>
    iqr = np.percentile(history, <span class="n">75</span>) - np.percentile(history, <span class="n">25</span>)
    z_score = (raw_opt - w_median) / (iqr * <span class="n">0.74</span>)
    
    <span class="c"># Crisis Mode: Halve leverage if vol > 2% daily</span>
    scaling = <span class="n">0.5</span> <span class="k">if</span> current_sigma > <span class="n">0.02</span> <span class="k">else</span> <span class="n">0.8</span>
    
    return <span class="n">1.0</span> + np.tanh(z_score * scaling)

<span class="k">def</span> <span class="f">train_ensemble</span>(X, y):
    <span class="c"># Inverse Volatility Weighting to stabilize learning</span>
    volatility = X[<span class="s">'lagged_ret'</span>].rolling(<span class="n">20</span>).std()
    weights = <span class="n">1.0</span> / (volatility + <span class="n">1e-6</span>)
    
    models = []
    seeds = [<span class="n">42</span>, <span class="n">2024</span>, <span class="n">999</span>] <span class="c"># Ensemble across random seeds</span>
    
    <span class="k">for</span> seed <span class="k">in</span> seeds:
        params = {
            <span class="s">'objective'</span>: <span class="s">'regression'</span>,
            <span class="s">'learning_rate'</span>: <span class="n">0.03</span>,
            <span class="s">'seed'</span>: seed
        }
        <span class="c"># ... training logic ...</span>
        models.append(model)
        
    return models
            </div>
        </div>
    </div>

    <div id="win-terminal" class="window" style="width: 600px; height: 400px; top: 20%; left: 30%;">
        <div class="window-header" onmousedown="dragStart(event, 'win-terminal')">
            <div class="win-controls">
                <div class="win-btn close" onclick="closeWindow('win-terminal')"></div>
                <div class="win-btn min" onclick="minimizeWindow('win-terminal')"></div>
                <div class="win-btn max"></div>
            </div>
            <div class="win-title">root@taha: ~</div>
            <div></div>
        </div>
        <div class="window-content term-body" onclick="document.getElementById('cmd').focus()">
            <div>Welcome to TahaOS v5.0 (Quant Kernel)</div>
            <div>System Status: <span style="color:var(--green)">OPTIMAL</span></div>
            <div>Thesis Grade: <span style="color:var(--green)">1.0 (Excellent)</span></div>
            <br>
            <div id="term-log"></div>
            <div style="display:flex;">
                <span class="prompt">root@taha:~$</span>
                <input id="cmd" class="cmd-in" type="text" autocomplete="off">
            </div>
        </div>
    </div>

    <div id="win-cv" class="window" style="width: 500px; height: 600px; top: 5%; left: 60%; display:none;">
        <div class="window-header" onmousedown="dragStart(event, 'win-cv')">
            <div class="win-controls">
                <div class="win-btn close" onclick="closeWindow('win-cv')"></div>
                <div class="win-btn min" onclick="minimizeWindow('win-cv')"></div>
                <div class="win-btn max"></div>
            </div>
            <div class="win-title">CV_Taha_Atlagh.pdf</div>
            <div></div>
        </div>
        <div class="window-content paper-view">
            <div class="paper-title" style="font-size:1.5rem">Taha Atlagh</div>
            <div class="paper-meta">M.Sc. Mathematics @ TU Berlin ‚Ä¢ Quant & HPC</div>
            
            <div class="paper-h1">Experience</div>
            <div class="paper-p">
                <strong>Consultant @ Company Consulting Team e.V.</strong> (10/25 - Present)<br>
                Process optimization and external consulting projects.
            </div>
            <div class="paper-p">
                <strong>Research Assistant @ IGPM, RWTH Aachen</strong> (03/25 - 10/25)<br>
                [cite_start]Designed numerical algorithms for PDEs and created interactive visualizations[cite: 14].
            </div>
            <div class="paper-p">
                <strong>Founder @ A&T Websolutions</strong> (04/24 - 10/25)<br>
                Managed end-to-end web projects and client delivery.
            </div>

            <div class="paper-h1">Education</div>
            <div class="paper-p">
                <strong>M.Sc. Mathematics</strong>, TU Berlin (Focus: Stochastics)<br>
                <strong>B.Sc. Mathematics</strong>, RWTH Aachen (Thesis: 1.0)
            </div>
        </div>
    </div>

    <div id="taskbar">
        <div style="display:flex; align-items:center;">
            <div class="start-btn" onclick="openWindow('terminal')">TAHA</div>
            <div class="dock">
                <div class="dock-item" onclick="openWindow('thesis')">üéì</div>
                <div class="dock-item" onclick="openWindow('hull')">üìà</div>
                <div class="dock-item" onclick="openWindow('terminal')">üöÄ</div>
            </div>
        </div>
        <div class="sys-tray">
            <span>CPU: 12%</span>
            <span>MEM: 6.4GB</span>
            <span id="clock">00:00</span>
        </div>
    </div>

    <script>
        // --- WINDOW MANAGEMENT ---
        let zIndex = 100;
        let activeWin = null;
        let isDragging = false;
        let dragOffset = {x:0, y:0};

        function openWindow(id) {
            const el = document.getElementById('win-' + id);
            el.style.display = 'flex';
            setTimeout(() => {
                el.classList.remove('minimized');
                el.classList.add('open');
                moveToFront('win-' + id);
            }, 10);
        }

        function closeWindow(id) {
            const el = document.getElementById(id);
            el.classList.remove('open');
            setTimeout(() => el.style.display = 'none', 300);
        }

        function minimizeWindow(id) {
            const el = document.getElementById(id);
            el.classList.add('minimized');
            el.classList.remove('active');
        }

        function moveToFront(id) {
            const el = document.getElementById(id);
            el.style.zIndex = ++zIndex;
            document.querySelectorAll('.window').forEach(w => w.classList.remove('active'));
            el.classList.add('active');
        }

        // --- DRAG LOGIC ---
        function dragStart(e, id) {
            if(e.target.classList.contains('win-btn')) return;
            isDragging = true;
            activeWin = document.getElementById(id);
            moveToFront(id);
            const rect = activeWin.getBoundingClientRect();
            dragOffset.x = e.clientX - rect.left;
            dragOffset.y = e.clientY - rect.top;
            window.addEventListener('mousemove', dragMove);
            window.addEventListener('mouseup', dragEnd);
        }

        function dragMove(e) {
            if(!isDragging) return;
            activeWin.style.left = (e.clientX - dragOffset.x) + 'px';
            activeWin.style.top = (e.clientY - dragOffset.y) + 'px';
        }

        function dragEnd() {
            isDragging = false;
            window.removeEventListener('mousemove', dragMove);
            window.removeEventListener('mouseup', dragEnd);
        }

        // --- TERMINAL LOGIC ---
        const cmd = document.getElementById('cmd');
        const log = document.getElementById('term-log');

        cmd.addEventListener('keydown', (e) => {
            if(e.key === 'Enter') {
                const val = cmd.value.toLowerCase().trim();
                log.innerHTML += `<div><span class="prompt">root@taha:~$</span> ${val}</div>`;
                
                if(val === 'help') log.innerHTML += `<div style="color:#aaa">Commands: open [thesis|hull|cv], clear, date, whoami</div>`;
                else if(val === 'open thesis') openWindow('thesis');
                else if(val === 'open hull') openWindow('hull');
                else if(val === 'open cv') openWindow('cv');
                else if(val === 'clear') log.innerHTML = '';
                else if(val === 'whoami') log.innerHTML += `<div>Taha Atlagh - Quant Developer</div>`;
                else if(val !== '') log.innerHTML += `<div style="color:var(--red)">Command not found</div>`;
                
                cmd.value = '';
                cmd.scrollIntoView();
            }
        });

        // --- INIT & CLOCK ---
        window.onload = () => {
            initLorenz();
            openWindow('terminal');
            setInterval(() => {
                document.getElementById('clock').innerText = new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
            }, 1000);
        };

        // --- BACKGROUND VISUALIZATION (LORENZ) ---
        function initLorenz() {
            const canvas = document.getElementById('bg-canvas');
            const ctx = canvas.getContext('2d');
            let w, h;
            const resize = () => { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; };
            window.addEventListener('resize', resize); resize();

            let x=0.1, y=0, z=0;
            const s=10, r=28, b=8/3, dt=0.01;
            const points = [];
            let angle = 0;

            function draw() {
                ctx.fillStyle = 'rgba(5, 5, 5, 0.1)'; ctx.fillRect(0,0,w,h);
                let dx = s*(y-x)*dt, dy = (x*(r-z)-y)*dt, dz = (x*y-b*z)*dt;
                x+=dx; y+=dy; z+=dz;
                points.push({x,y,z});
                if(points.length > 2000) points.shift();

                ctx.beginPath();
                ctx.strokeStyle = '#3b82f6';
                ctx.lineWidth = 1.5;
                angle += 0.002;

                const cx=w/2, cy=h/2, scale=15;
                for(let i=0; i<points.length-1; i++) {
                    let p=points[i], pn=points[i+1];
                    let rx = p.x*Math.cos(angle) - p.z*Math.sin(angle);
                    let rxn = pn.x*Math.cos(angle) - pn.z*Math.sin(angle);
                    ctx.moveTo(cx+rx*scale, cy-p.y*scale);
                    ctx.lineTo(cx+rxn*scale, cy-pn.y*scale);
                }
                ctx.stroke();
                requestAnimationFrame(draw);
            }
            draw();
        }
    </script>
</body>
</html>
